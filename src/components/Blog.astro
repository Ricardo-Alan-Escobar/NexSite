---
import { Image } from "astro:assets";
import Blog1 from "../assets/Blog/Blog1.png";
import Blog2 from "../assets/Blog/Blog2.png";
import Blog3 from "../assets/Blog/Blog3.png";

const blogPosts = [
  {
    title: "El futuro de la IA en el desarrollo de software",
    excerpt: "Descubra cómo la inteligencia artificial está transformando la forma en que creamos y mantenemos aplicaciones de software.",
    date: "Enero 15, 2025",
    category: "Technology Trends",
    image: Blog1, 
    href: "/Blog",
  },
  {
    title: "Las mejores practicas para tu negocio",
    excerpt: "Aprenda las mejores prácticas para diseñar soluciones en la nube que puedan crecer con las necesidades de su negocio.",
    date: "Febrero 8, 2025",
    category: "Cloud Computing",
    image: Blog2,
    href: "/Blog#article-2",
  },
  {
    title: "Prácticas recomendadas de seguridad para aplicaciones web",
    excerpt: "Descubra las medidas de seguridad esenciales para proteger sus aplicaciones web de vulnerabilidades comunes.",
    date: "Febrero 30, 2025",
    category: "Cybersecurity",
    image: Blog3,
    href: "/Blog#article-3",
  },
];
---

<section id="Blog" class="w-full py-12 md:py-16 lg:py-20 relative overflow-hidden">
  <!-- Fondo con gradiente -->
  <div class="absolute inset-0 bg-gradient-to-b from-gray-900 to-gray-950 opacity-80"></div>
  
  <!-- Efectos de iluminación -->
  <div class="absolute top-20 left-1/4 w-96 h-96 bg-blue-600/20 rounded-full blur-3xl opacity-20"></div>
  <div class="absolute bottom-20 right-1/4 w-96 h-96 bg-blue-400/20 rounded-full blur-3xl opacity-20"></div>
  
  <div class="container mx-auto px-4 md:px-6 relative z-10">
    <div class="text-center mb-8 md:mb-12">
      <div class="inline-block rounded-lg bg-blue-900/30 px-3 py-1 text-sm text-blue-400 mb-4 border border-blue-800/30">
        Nuestro Blog
      </div>
      <h2 class="text-2xl md:text-3xl font-bold tracking-tighter sm:text-5xl text-white">
        Últimos <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-blue-300">Conocimientos</span>
      </h2>
      <p class="mx-auto max-w-[700px] text-gray-300 text-sm md:text-xl mt-2 md:mt-4">
        Manténgase actualizado con las últimas tendencias, tecnologías y mejores prácticas en desarrollo de software.
      </p>
    </div>

    <!-- Versión móvil - Carrusel horizontal con indicadores -->
    <div class="md:hidden relative">
      <!-- Indicador de deslizamiento -->
      <div class="flex items-center justify-center mb-3 text-white">
        <div class="flex items-center bg-blue-600/30 border border-blue-500/30 rounded-full px-3 py-1 text-xs backdrop-blur-sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="rotate-90 w-4 h-4 mr-1">
            <path d="m6 9 6 6 6-6"/>
          </svg>
          <span>Desliza para ver más artículos</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="-rotate-90 w-4 h-4 ml-1">
            <path d="m6 9 6 6 6-6"/>
          </svg>
        </div>
      </div>
      
      <!-- Carrusel -->
      <div id="carousel-container" class="overflow-x-auto pb-6 -mx-4 px-4 scrollbar-hide relative">
        <div id="blog-carousel" class="flex space-x-4 blog-carousel">
          {blogPosts.map((post, index) => (
            <div class="carousel-item flex-shrink-0 w-[280px] flex flex-col overflow-hidden bg-gray-800/80 backdrop-blur-sm border border-gray-700/50 rounded-lg shadow-lg hover:shadow-blue-900/20 transition-all duration-300 relative" data-index={index}>
              <!-- Indicador de deslizamiento en la tarjeta -->
              <div class="absolute -right-1 top-1/2 -translate-y-1/2 w-2 h-16 bg-blue-500/20 rounded-l-md z-10"></div>
              
              <div class="relative h-36 w-full">
                <Image src={post.image || "/placeholder.svg"} alt={post.title} class="object-cover w-full h-full" />
              </div>
              <div class="flex-1 p-4 space-y-2">
                <div class="flex justify-between items-center text-xs text-gray-400">
                  <span>{post.category}</span>
                  <span>{post.date}</span>
                </div>
                <h3 class="text-lg font-bold text-white line-clamp-1">{post.title}</h3>
                <p class="text-gray-300 text-sm line-clamp-2">{post.excerpt}</p>
                <a href={post.href} class="text-blue-400 hover:underline font-medium inline-flex items-center text-sm">
                  Saber más
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-1 h-3 w-3">
                    <polyline points="9 18 15 12 9 6"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          ))}
        </div>
      </div>
      
      <!-- Indicadores de puntos interactivos -->
      <div id="carousel-dots" class="flex justify-center space-x-1 mt-2">
        {blogPosts.map((_, index) => (
          <button 
            class={`carousel-dot h-1.5 rounded-full ${index === 0 ? 'w-4 bg-blue-500 active' : 'w-1.5 bg-gray-600'}`}
            data-index={index}
            aria-label={`Ver artículo ${index + 1}`}
          ></button>
        ))}
      </div>
    </div>

    <!-- Versión tablet y desktop - Grid -->
    <div class="hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {blogPosts.map((post) => (
        <div class="group flex flex-col overflow-hidden bg-gray-800/80 backdrop-blur-sm border border-gray-700/50 rounded-lg shadow-lg hover:shadow-blue-900/20 transition-all duration-300 relative">
         
          <div class="absolute inset-0 bg-gradient-to-b from-blue-600/5 to-blue-900/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          
        
          <div class="absolute -right-12 -top-12 w-24 h-24 bg-blue-500/10 rounded-full"></div>
          
          <div class="relative h-48 w-full">
            <Image src={post.image || "/placeholder.svg"} alt={post.title} class="object-cover w-full h-full" />
          </div>
          <div class="flex-1 p-6 space-y-2 relative z-10">
            <div class="flex justify-between items-center text-sm text-gray-400">
              <span>{post.category}</span>
              <span>{post.date}</span>
            </div>
            <h3 class="text-xl font-bold text-white">{post.title}</h3>
            <p class="text-gray-300">{post.excerpt}</p>
            <a href={post.href} class="text-blue-400 hover:underline font-medium inline-flex items-center">
              Saber más
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-1 h-4 w-4">
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            </a>
          </div>
        </div>
      ))}
    </div>
    
    <div class="text-center mt-8">
      <a href="/Blog" class="inline-flex items-center justify-center rounded-md bg-blue-600 hover:bg-blue-700 px-4 py-2 text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
        Ver todos los artículos
      </a>
    </div>
    
    <!-- Elemento decorativo inferior -->
    <div class="mt-16 flex justify-center">
      <div class="h-1 w-16 bg-gradient-to-r from-blue-500/0 via-blue-500 to-blue-500/0 rounded-full"></div>
    </div>
  </div>
</section>

<style>
  /* Ocultar la barra de desplazamiento pero mantener la funcionalidad */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;     /* Firefox */
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
  
  /* Animación sutil para indicar deslizamiento */
  @keyframes slideHint {
    0% { transform: translateX(0); }
    10% { transform: translateX(-20px); }
    20% { transform: translateX(0); }
    100% { transform: translateX(0); }
  }
  
  .blog-carousel {
    animation: slideHint 4s ease-in-out 1s;
    scroll-behavior: smooth;
  }
  
  /* Efecto de brillo en el indicador lateral */
  @keyframes glowIndicator {
    0% { opacity: 0.3; }
    50% { opacity: 0.7; }
    100% { opacity: 0.3; }
  }
  
  .blog-carousel > div > .absolute {
    animation: glowIndicator 2s infinite;
  }
  
  /* Transición suave para los puntos indicadores */
  .carousel-dot {
    transition: all 0.3s ease;
  }
</style>

